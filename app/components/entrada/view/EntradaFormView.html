<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- FormulÃ¡rio Modal -->
<div class="modal-content" ng-controller="EntradaController">
    
    <!-- CabeÃ§alho -->
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-hidden="true">
            <span class="glyphicon glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
        </button>
        <h4 class="modal-title" id="myModalLabel">
            <span class="" aria-label="Left Align">
                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
                <!--&nbsp;Novo Cliente <pre>{{customer | json}}</pre>-->
                <!--<pre>{{EstEntrada | json}}</pre>-->
                {{ title }}
            </span>

        </h4>
    </div>
    
    <!-- FormulÃ¡rio Corpo -->
    <div class="modal-body">
        
        <tabset>
            <tab heading="Informações">
                <div class="panel-body">
                    <form role="form" id="form1" name="form1" method="post" action="">
                        
                        <fieldset>
                            <legend>Dados da Entrada</legend>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="codigo">Fornecedor</label>
                                        <select 
                                            ng-model="formObject.CadFornecedor"
                                            ng-options="item.xNome for item in CadFornecedor.result track by item.xNome"
                                            class="form-control">
                                        </select>
                                        <!--<input type="text" ng-model="formObject.CadFornecedor.PK_fornecedor" class="form-control" />-->
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        
                        <fieldset ng-controller="EntradaItemController">
                            
                            <legend>Produtos</legend>
                            
                            <div class="row">
                                
                                <div class="col-sm-12 col-lg-8">
                                    <div class="form-group">
                                        <label for="codigo">Produto</label>
                                        <!--<input type="text" ng-model="formObject.EstItem.PK_item" class="form-control" />-->
                                        <select 
                                            ng-model="formObject.EstItem" 
                                            ng-options="item.xProd for item in EstItem.result track by item.xProd"
                                            class="form-control">
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="col-sm-6 col-lg-2">
                                    <div class="form-group">
                                        <label for="codigo">Quantidade</label>
                                        <input type="text" ng-model="formObject.qtrib" class="form-control" />
                                    </div>
                                </div>
                                
                                <div class="col-sm-6 col-lg-2">
                                    <div class="form-group">
                                        <label>Valor</label>
                                        <input type="text" ng-model="formObject.vuntrib" class="form-control" />
                                    </div>
                                </div>
                                
                            </div>
                            
                            <div class="row">
                                <div class="col-lg-1">
                                    <button class="btn btn-info" ng-click="update()">Salvar</button>
                                </div>
                            </div>
                            
                            <div class="row" style="margin-top: 10px">
                                <div class="col-sm-12 col-lg-12">
                                    <table ng-table="itemList" class="table table-striped">
                                        <tr ng-repeat="item in $data">
                                            <td data-title="'Código'">{{item.EstItem.PK_item}}</td>
                                            <td data-title="'Descrição'"><a ng-click="show(item.pkEntradaItem)">{{item.EstItem.xProd}}</a></td>
                                            <td data-title="'QTDE'">{{item.qtrib}}</td>
                                            <td data-title="'Preço'">{{item.vuntrib}}</td>
                                            <td data-title="'Total'">{{(item.vuntrib * item.qtrib).toFixed(2)}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            
                        </fieldset>

                    </form>
                </div>
            </tab>
            <tab heading="Pagamento" active="tab.active" disabled="tab.disabled">
                
                <div class="table-responsive">
                    <!-- Table -->
                    <table ng-table="tableParams2" class="table">
                        <tr ng-repeat="contact in $data">
                            <td data-title="'Name'" style="text-align: left">{{contact.xNome}}</td>
                            <td data-title="'Phone'"><a>{{contact.phone}}</a></td>
                        </tr>
                    </table>
                </div>

            </tab>
            <tab heading="Nota Fiscal" active="tab.active" disabled="tab.disabled">

            </tab>
        </tabset>
        
    </div>
    
    <!-- Modal Footer -->
    <div class="modal-footer">
        <button ng-click="update()" type="button" class="btn btn-success pull-left">Salvar</button>
        <button ng-click="cancel()" type="button" class="btn btn-default pull-left">Fechar</button>
    </div>

</div>